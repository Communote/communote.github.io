<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_162) on Sat Feb 02 18:57:35 CET 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>UserPasswordManagementImpl (Communote 3.5 API)</title>
<meta name="date" content="2019-02-02">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="UserPasswordManagementImpl (Communote 3.5 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/UserPasswordManagementImpl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html" title="interface in com.communote.server.core.user.security"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/communote/server/core/user/security/UserPasswordManagementImpl.html" target="_top">Frames</a></li>
<li><a href="UserPasswordManagementImpl.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.communote.server.core.user.security</div>
<h2 title="Class UserPasswordManagementImpl" class="title">Class UserPasswordManagementImpl</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.communote.server.core.user.security.UserPasswordManagementImpl</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html" title="interface in com.communote.server.core.user.security">UserPasswordManagement</a></dd>
</dl>
<hr>
<br>
<pre>@Service(value="userPasswordManagement")
public class <span class="typeNameLabel">UserPasswordManagementImpl</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html" title="interface in com.communote.server.core.user.security">UserPasswordManagement</a></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagementImpl.html#UserPasswordManagementImpl-com.communote.server.persistence.user.UserDao-com.communote.server.persistence.user.security.ForgottenPasswordSecurityCodeDao-com.communote.server.api.core.security.SecurityCodeManagement-com.communote.server.core.mail.MailSender-">UserPasswordManagementImpl</a></span>(<a href="../../../../../../com/communote/server/persistence/user/UserDao.html" title="interface in com.communote.server.persistence.user">UserDao</a>&nbsp;userDao,
                          <a href="../../../../../../com/communote/server/persistence/user/security/ForgottenPasswordSecurityCodeDao.html" title="interface in com.communote.server.persistence.user.security">ForgottenPasswordSecurityCodeDao</a>&nbsp;forgottenPasswordSecurityCodeDao,
                          <a href="../../../../../../com/communote/server/api/core/security/SecurityCodeManagement.html" title="interface in com.communote.server.api.core.security">SecurityCodeManagement</a>&nbsp;securityCodeManagement,
                          <a href="../../../../../../com/communote/server/core/mail/MailSender.html" title="interface in com.communote.server.core.mail">MailSender</a>&nbsp;mailSender)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagementImpl.html#changePassword-java.lang.Long-java.lang.String-">changePassword</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;userId,
              <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;newPassword)</code>
<div class="block">Change the password of a user.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagementImpl.html#changePassword-java.lang.String-java.lang.String-">changePassword</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;securityCode,
              <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;password)</code>
<div class="block">Change the password of a user who used the forgotten password feature
 (<a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html#requestPasswordChange-java.lang.String-"><code>UserPasswordManagement.requestPasswordChange(String)</code></a>) to request a new password.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagementImpl.html#changePassword-com.communote.server.model.user.User-java.lang.String-">changePassword</a></span>(<a href="../../../../../../com/communote/server/model/user/User.html" title="class in com.communote.server.model.user">User</a>&nbsp;user,
              <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;newPassword)</code>
<div class="block">
 Change the password of a user.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagementImpl.html#checkAndUpdatePassword-com.communote.server.model.user.User-java.lang.String-">checkAndUpdatePassword</a></span>(<a href="../../../../../../com/communote/server/model/user/User.html" title="class in com.communote.server.model.user">User</a>&nbsp;user,
                      <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;password)</code>
<div class="block">
 Check that the (hashed) password of the user matches the given clear text password.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagementImpl.html#checkPassword-java.lang.Long-java.lang.String-">checkPassword</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;userId,
             <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;password)</code>
<div class="block">Check that the (hashed) password of the user matches the given clear text password.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagementImpl.html#checkPassword-com.communote.server.model.user.User-java.lang.String-">checkPassword</a></span>(<a href="../../../../../../com/communote/server/model/user/User.html" title="class in com.communote.server.model.user">User</a>&nbsp;user,
             <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;password)</code>
<div class="block">Check that the (hashed) password of the user matches the given clear text password.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagementImpl.html#register-com.communote.server.core.user.security.PasswordHashFunction-">register</a></span>(<a href="../../../../../../com/communote/server/core/user/security/PasswordHashFunction.html" title="interface in com.communote.server.core.user.security">PasswordHashFunction</a>&nbsp;hashFunction)</code>
<div class="block">Register a hash function for generating and checking password hashes.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagementImpl.html#requestPasswordChange-java.lang.String-">requestPasswordChange</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;email)</code>
<div class="block">Request a new password for the given user.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagementImpl.html#unregister-com.communote.server.core.user.security.PasswordHashFunction-">unregister</a></span>(<a href="../../../../../../com/communote/server/core/user/security/PasswordHashFunction.html" title="interface in com.communote.server.core.user.security">PasswordHashFunction</a>&nbsp;hashFunction)</code>
<div class="block">Remove a previously registered password hash function.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagementImpl.html#validatePassword-java.lang.String-">validatePassword</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;newPassword)</code>
<div class="block">Validate that a password matches the minimum security requirements to be used in user
 accounts</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="UserPasswordManagementImpl-com.communote.server.persistence.user.UserDao-com.communote.server.persistence.user.security.ForgottenPasswordSecurityCodeDao-com.communote.server.api.core.security.SecurityCodeManagement-com.communote.server.core.mail.MailSender-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>UserPasswordManagementImpl</h4>
<pre>@Autowired
public&nbsp;UserPasswordManagementImpl(<a href="../../../../../../com/communote/server/persistence/user/UserDao.html" title="interface in com.communote.server.persistence.user">UserDao</a>&nbsp;userDao,
                                             <a href="../../../../../../com/communote/server/persistence/user/security/ForgottenPasswordSecurityCodeDao.html" title="interface in com.communote.server.persistence.user.security">ForgottenPasswordSecurityCodeDao</a>&nbsp;forgottenPasswordSecurityCodeDao,
                                             <a href="../../../../../../com/communote/server/api/core/security/SecurityCodeManagement.html" title="interface in com.communote.server.api.core.security">SecurityCodeManagement</a>&nbsp;securityCodeManagement,
                                             <a href="../../../../../../com/communote/server/core/mail/MailSender.html" title="interface in com.communote.server.core.mail">MailSender</a>&nbsp;mailSender)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="changePassword-java.lang.Long-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changePassword</h4>
<pre>@Transactional(propagation=REQUIRED)
public&nbsp;void&nbsp;changePassword(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;userId,
                                                                <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;newPassword)
                                                         throws <a href="../../../../../../com/communote/server/core/common/exceptions/PasswordValidationException.html" title="class in com.communote.server.core.common.exceptions">PasswordValidationException</a>,
                                                                <a href="../../../../../../com/communote/server/api/core/user/UserNotFoundException.html" title="class in com.communote.server.api.core.user">UserNotFoundException</a>,
                                                                <a href="../../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a>,
                                                                <a href="../../../../../../com/communote/server/core/user/ExternalUserPasswordChangeNotAllowedException.html" title="class in com.communote.server.core.user">ExternalUserPasswordChangeNotAllowedException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html#changePassword-java.lang.Long-java.lang.String-">UserPasswordManagement</a></code></span></div>
<div class="block">Change the password of a user.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html#changePassword-java.lang.Long-java.lang.String-">changePassword</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html" title="interface in com.communote.server.core.user.security">UserPasswordManagement</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>userId</code> - the ID of the user for whom the password should be changed</dd>
<dd><code>newPassword</code> - the new clear text password</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../com/communote/server/core/common/exceptions/PasswordValidationException.html" title="class in com.communote.server.core.common.exceptions">PasswordValidationException</a></code> - in case the new password doesn't fulfill the minimum security requirements to be
             used in user accounts</dd>
<dd><code><a href="../../../../../../com/communote/server/api/core/user/UserNotFoundException.html" title="class in com.communote.server.api.core.user">UserNotFoundException</a></code> - in case the user with the given ID does not exist</dd>
<dd><code><a href="../../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a></code> - in case the current user is not the user with the userId or the current user is
             not client admin or internal system user</dd>
<dd><code><a href="../../../../../../com/communote/server/core/user/ExternalUserPasswordChangeNotAllowedException.html" title="class in com.communote.server.core.user">ExternalUserPasswordChangeNotAllowedException</a></code> - in case the user was provided by the primary external user repository</dd>
</dl>
</li>
</ul>
<a name="changePassword-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changePassword</h4>
<pre>@Transactional(propagation=REQUIRED)
public&nbsp;void&nbsp;changePassword(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;securityCode,
                                                                <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;password)
                                                         throws <a href="../../../../../../com/communote/server/persistence/common/security/SecurityCodeNotFoundException.html" title="class in com.communote.server.persistence.common.security">SecurityCodeNotFoundException</a>,
                                                                <a href="../../../../../../com/communote/server/core/common/exceptions/PasswordValidationException.html" title="class in com.communote.server.core.common.exceptions">PasswordValidationException</a>,
                                                                <a href="../../../../../../com/communote/server/core/user/ExternalUserPasswordChangeNotAllowedException.html" title="class in com.communote.server.core.user">ExternalUserPasswordChangeNotAllowedException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html#changePassword-java.lang.String-java.lang.String-">UserPasswordManagement</a></code></span></div>
<div class="block">Change the password of a user who used the forgotten password feature
 (<a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html#requestPasswordChange-java.lang.String-"><code>UserPasswordManagement.requestPasswordChange(String)</code></a>) to request a new password.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html#changePassword-java.lang.String-java.lang.String-">changePassword</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html" title="interface in com.communote.server.core.user.security">UserPasswordManagement</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>securityCode</code> - security code created by the forgotten password feature</dd>
<dd><code>password</code> - the new clear text password</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../com/communote/server/persistence/common/security/SecurityCodeNotFoundException.html" title="class in com.communote.server.persistence.common.security">SecurityCodeNotFoundException</a></code> - in case the security code does not exist or does not belong to a forgotten
             password security code</dd>
<dd><code><a href="../../../../../../com/communote/server/core/common/exceptions/PasswordValidationException.html" title="class in com.communote.server.core.common.exceptions">PasswordValidationException</a></code> - in case the new password doesn't fulfill the minimum security requirements to be
             used in user accounts</dd>
<dd><code><a href="../../../../../../com/communote/server/core/user/ExternalUserPasswordChangeNotAllowedException.html" title="class in com.communote.server.core.user">ExternalUserPasswordChangeNotAllowedException</a></code> - in case the user was provided by the primary external user repository</dd>
</dl>
</li>
</ul>
<a name="changePassword-com.communote.server.model.user.User-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changePassword</h4>
<pre>@Transactional(propagation=MANDATORY)
public&nbsp;void&nbsp;changePassword(<a href="../../../../../../com/communote/server/model/user/User.html" title="class in com.communote.server.model.user">User</a>&nbsp;user,
                                                                 <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;newPassword)
                                                          throws <a href="../../../../../../com/communote/server/core/common/exceptions/PasswordValidationException.html" title="class in com.communote.server.core.common.exceptions">PasswordValidationException</a>,
                                                                 <a href="../../../../../../com/communote/server/core/user/ExternalUserPasswordChangeNotAllowedException.html" title="class in com.communote.server.core.user">ExternalUserPasswordChangeNotAllowedException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html#changePassword-com.communote.server.model.user.User-java.lang.String-">UserPasswordManagement</a></code></span></div>
<div class="block"><p>
 Change the password of a user.
 </p>
 <p>
 Note: this method does not check whether the current user is allowed to change the password.
 Moreover, an existing transaction is required.
 </p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html#changePassword-com.communote.server.model.user.User-java.lang.String-">changePassword</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html" title="interface in com.communote.server.core.user.security">UserPasswordManagement</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>user</code> - the user whose password should be changed</dd>
<dd><code>newPassword</code> - the new clear text password</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../com/communote/server/core/common/exceptions/PasswordValidationException.html" title="class in com.communote.server.core.common.exceptions">PasswordValidationException</a></code> - in case the new password doesn't fulfill the minimum security requirements to be
             used in user accounts</dd>
<dd><code><a href="../../../../../../com/communote/server/core/user/ExternalUserPasswordChangeNotAllowedException.html" title="class in com.communote.server.core.user">ExternalUserPasswordChangeNotAllowedException</a></code> - in case the user was provided by the primary external user repository</dd>
</dl>
</li>
</ul>
<a name="checkAndUpdatePassword-com.communote.server.model.user.User-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkAndUpdatePassword</h4>
<pre>@Transactional(propagation=MANDATORY)
public&nbsp;boolean&nbsp;checkAndUpdatePassword(<a href="../../../../../../com/communote/server/model/user/User.html" title="class in com.communote.server.model.user">User</a>&nbsp;user,
                                                                            <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;password)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html#checkAndUpdatePassword-com.communote.server.model.user.User-java.lang.String-">UserPasswordManagement</a></code></span></div>
<div class="block"><p>
 Check that the (hashed) password of the user matches the given clear text password. If the
 password matches it will be checked whether the password should be updated to meet the
 current security requirements. An update will be necessary if the user's password was created
 with a hash function other than the current hash function or if the hash function didn't
 change but was reconfigured to produce a stronger hash value.
 </p>
 <p>
 Note: if an update of password is necessary the given clear text password is not validated
 with <a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html#validatePassword-java.lang.String-"><code>UserPasswordManagement.validatePassword(String)</code></a>. Moreover, an existing transaction is required.
 </p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html#checkAndUpdatePassword-com.communote.server.model.user.User-java.lang.String-">checkAndUpdatePassword</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html" title="interface in com.communote.server.core.user.security">UserPasswordManagement</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>user</code> - the user whose password should be checked and updated</dd>
<dd><code>password</code> - the clear text password to test against</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the password matches</dd>
</dl>
</li>
</ul>
<a name="checkPassword-java.lang.Long-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkPassword</h4>
<pre>@Transactional(propagation=REQUIRED,
               readOnly=true)
public&nbsp;boolean&nbsp;checkPassword(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;userId,
                                                                                                <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;password)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html#checkPassword-java.lang.Long-java.lang.String-">UserPasswordManagement</a></code></span></div>
<div class="block">Check that the (hashed) password of the user matches the given clear text password.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html#checkPassword-java.lang.Long-java.lang.String-">checkPassword</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html" title="interface in com.communote.server.core.user.security">UserPasswordManagement</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>userId</code> - the ID of the user whose password should be checked</dd>
<dd><code>password</code> - the clear text password to test against</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>false if the password doesn't match or the user doesn't exist</dd>
</dl>
</li>
</ul>
<a name="checkPassword-com.communote.server.model.user.User-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkPassword</h4>
<pre>public&nbsp;boolean&nbsp;checkPassword(<a href="../../../../../../com/communote/server/model/user/User.html" title="class in com.communote.server.model.user">User</a>&nbsp;user,
                             <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;password)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html#checkPassword-com.communote.server.model.user.User-java.lang.String-">UserPasswordManagement</a></code></span></div>
<div class="block">Check that the (hashed) password of the user matches the given clear text password.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html#checkPassword-com.communote.server.model.user.User-java.lang.String-">checkPassword</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html" title="interface in com.communote.server.core.user.security">UserPasswordManagement</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>user</code> - the user whose password should be checked</dd>
<dd><code>password</code> - the clear text password to test against</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the password matches</dd>
</dl>
</li>
</ul>
<a name="register-com.communote.server.core.user.security.PasswordHashFunction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>register</h4>
<pre>public&nbsp;void&nbsp;register(<a href="../../../../../../com/communote/server/core/user/security/PasswordHashFunction.html" title="interface in com.communote.server.core.user.security">PasswordHashFunction</a>&nbsp;hashFunction)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html#register-com.communote.server.core.user.security.PasswordHashFunction-">UserPasswordManagement</a></code></span></div>
<div class="block">Register a hash function for generating and checking password hashes.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html#register-com.communote.server.core.user.security.PasswordHashFunction-">register</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html" title="interface in com.communote.server.core.user.security">UserPasswordManagement</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>hashFunction</code> - the function to register</dd>
</dl>
</li>
</ul>
<a name="requestPasswordChange-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestPasswordChange</h4>
<pre>@Transactional(propagation=REQUIRED)
public&nbsp;void&nbsp;requestPasswordChange(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;email)
                                                                throws <a href="../../../../../../com/communote/server/api/core/user/UserNotFoundException.html" title="class in com.communote.server.api.core.user">UserNotFoundException</a>,
                                                                       <a href="../../../../../../com/communote/server/core/user/ExternalUserPasswordChangeNotAllowedException.html" title="class in com.communote.server.core.user">ExternalUserPasswordChangeNotAllowedException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html#requestPasswordChange-java.lang.String-">UserPasswordManagement</a></code></span></div>
<div class="block">Request a new password for the given user. A mail with a security code will be sent to the
 user. The code can be used in <a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html#changePassword-java.lang.String-java.lang.String-"><code>UserPasswordManagement.changePassword(String, String)</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html#requestPasswordChange-java.lang.String-">requestPasswordChange</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html" title="interface in com.communote.server.core.user.security">UserPasswordManagement</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>email</code> - the email of the user requesting the password change</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../com/communote/server/api/core/user/UserNotFoundException.html" title="class in com.communote.server.api.core.user">UserNotFoundException</a></code> - in case there is no user with that email</dd>
<dd><code><a href="../../../../../../com/communote/server/core/user/ExternalUserPasswordChangeNotAllowedException.html" title="class in com.communote.server.core.user">ExternalUserPasswordChangeNotAllowedException</a></code> - in case the user was provided by the primary external user repository</dd>
</dl>
</li>
</ul>
<a name="unregister-com.communote.server.core.user.security.PasswordHashFunction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unregister</h4>
<pre>public&nbsp;void&nbsp;unregister(<a href="../../../../../../com/communote/server/core/user/security/PasswordHashFunction.html" title="interface in com.communote.server.core.user.security">PasswordHashFunction</a>&nbsp;hashFunction)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html#unregister-com.communote.server.core.user.security.PasswordHashFunction-">UserPasswordManagement</a></code></span></div>
<div class="block">Remove a previously registered password hash function. If the given function is not
 registered nothing will happen.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html#unregister-com.communote.server.core.user.security.PasswordHashFunction-">unregister</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html" title="interface in com.communote.server.core.user.security">UserPasswordManagement</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>hashFunction</code> - the hash function to remove</dd>
</dl>
</li>
</ul>
<a name="validatePassword-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>validatePassword</h4>
<pre>public&nbsp;void&nbsp;validatePassword(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;newPassword)
                      throws <a href="../../../../../../com/communote/server/core/common/exceptions/PasswordValidationException.html" title="class in com.communote.server.core.common.exceptions">PasswordValidationException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html#validatePassword-java.lang.String-">UserPasswordManagement</a></code></span></div>
<div class="block">Validate that a password matches the minimum security requirements to be used in user
 accounts</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html#validatePassword-java.lang.String-">validatePassword</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html" title="interface in com.communote.server.core.user.security">UserPasswordManagement</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newPassword</code> - the password to validate</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../com/communote/server/core/common/exceptions/PasswordValidationException.html" title="class in com.communote.server.core.common.exceptions">PasswordValidationException</a></code> - in case the password is not valid</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/UserPasswordManagementImpl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/communote/server/core/user/security/UserPasswordManagement.html" title="interface in com.communote.server.core.user.security"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/communote/server/core/user/security/UserPasswordManagementImpl.html" target="_top">Frames</a></li>
<li><a href="UserPasswordManagementImpl.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2019 <a href="https://communote.github.io/">Communote team</a>. All rights reserved.</small></p>
</body>
</html>
