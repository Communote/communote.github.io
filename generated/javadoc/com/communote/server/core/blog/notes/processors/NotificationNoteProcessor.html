<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_162) on Sun Dec 30 23:34:57 CET 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>NotificationNoteProcessor (Communote 3.5 API)</title>
<meta name="date" content="2018-12-30">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="NotificationNoteProcessor (Communote 3.5 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":6,"i5":6,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/NotificationNoteProcessor.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../com/communote/server/core/blog/notes/processors/NoteStoringPreProcessorManagerImpl.html" title="class in com.communote.server.core.blog.notes.processors"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../com/communote/server/core/blog/notes/processors/RemoveUnsupportedMarkupNotePreProcessor.html" title="class in com.communote.server.core.blog.notes.processors"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?com/communote/server/core/blog/notes/processors/NotificationNoteProcessor.html" target="_top">Frames</a></li>
<li><a href="NotificationNoteProcessor.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.communote.server.core.blog.notes.processors</div>
<h2 title="Class NotificationNoteProcessor" class="title">Class NotificationNoteProcessor</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.communote.server.core.blog.notes.processors.NotificationNoteProcessor</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../../com/communote/common/util/Orderable.html" title="interface in com.communote.common.util">Orderable</a>, <a href="../../../../../../../com/communote/server/api/core/note/processor/NoteStoringPostProcessor.html" title="interface in com.communote.server.api.core.note.processor">NoteStoringPostProcessor</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../../../com/communote/server/core/blog/notes/processors/DiscussionNotificationNoteProcessor.html" title="class in com.communote.server.core.blog.notes.processors">DiscussionNotificationNoteProcessor</a>, <a href="../../../../../../../com/communote/server/core/blog/notes/processors/DiscussionParticipationNotificationNoteProcessor.html" title="class in com.communote.server.core.blog.notes.processors">DiscussionParticipationNotificationNoteProcessor</a>, <a href="../../../../../../../com/communote/server/core/blog/notes/processors/TopicNotificationNoteProcessor.html" title="class in com.communote.server.core.blog.notes.processors">TopicNotificationNoteProcessor</a>, <a href="../../../../../../../com/communote/server/core/blog/notes/processors/UserNotificationNoteProcessor.html" title="class in com.communote.server.core.blog.notes.processors">UserNotificationNoteProcessor</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">NotificationNoteProcessor</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../../../../com/communote/server/api/core/note/processor/NoteStoringPostProcessor.html" title="interface in com.communote.server.api.core.note.processor">NoteStoringPostProcessor</a></pre>
<div class="block">Base class for note post processors that inform users about created and edited notes. The
 notifications are sent in the asynchronous processing phase.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Communote GmbH - <a href="http://www.communote.com/">http://www.communote.com/</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../com/communote/server/core/blog/notes/processors/NotificationNoteProcessor.html#NotificationNoteProcessor--">NotificationNoteProcessor</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../com/communote/server/core/blog/notes/processors/NotificationNoteProcessor.html#extractUserIdsToSkip-com.communote.server.api.core.note.processor.NoteStoringPostProcessorContext-">extractUserIdsToSkip</a></span>(<a href="../../../../../../../com/communote/server/api/core/note/processor/NoteStoringPostProcessorContext.html" title="class in com.communote.server.api.core.note.processor">NoteStoringPostProcessorContext</a>&nbsp;context)</code>
<div class="block">Extracts the IDs of the users to not notify from the context properties and adds them to the
 context attributes so it can be reused by all notification processors handling the same note.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../../com/communote/server/persistence/blog/NoteDao.html" title="interface in com.communote.server.persistence.blog">NoteDao</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../com/communote/server/core/blog/notes/processors/NotificationNoteProcessor.html#getNoteDao--">getNoteDao</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../com/communote/server/core/messaging/NotificationDefinition.html" title="class in com.communote.server.core.messaging">NotificationDefinition</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../com/communote/server/core/blog/notes/processors/NotificationNoteProcessor.html#getNotificationDefinition--">getNotificationDefinition</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../../com/communote/server/core/messaging/NotificationService.html" title="class in com.communote.server.core.messaging">NotificationService</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../com/communote/server/core/blog/notes/processors/NotificationNoteProcessor.html#getNotificationService--">getNotificationService</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected abstract <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="../../../../../../../com/communote/server/model/user/User.html" title="class in com.communote.server.model.user">User</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../com/communote/server/core/blog/notes/processors/NotificationNoteProcessor.html#getUsersToNotify-com.communote.server.model.note.Note-com.communote.server.api.core.note.processor.NoteStoringPostProcessorContext-java.util.Set-">getUsersToNotify</a></span>(<a href="../../../../../../../com/communote/server/model/note/Note.html" title="class in com.communote.server.model.note">Note</a>&nbsp;note,
                <a href="../../../../../../../com/communote/server/api/core/note/processor/NoteStoringPostProcessorContext.html" title="class in com.communote.server.api.core.note.processor">NoteStoringPostProcessorContext</a>&nbsp;context,
                <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;userIdsToSkip)</code>
<div class="block">Retrieves the users to be notified.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected abstract boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../com/communote/server/core/blog/notes/processors/NotificationNoteProcessor.html#isSendNotifications-com.communote.server.model.note.Note-com.communote.server.api.core.note.NoteStoringTO-java.util.Map-com.communote.server.core.blog.notes.processors.NoteNotificationDetails-">isSendNotifications</a></span>(<a href="../../../../../../../com/communote/server/model/note/Note.html" title="class in com.communote.server.model.note">Note</a>&nbsp;note,
                   <a href="../../../../../../../com/communote/server/api/core/note/NoteStoringTO.html" title="class in com.communote.server.api.core.note">NoteStoringTO</a>&nbsp;orginalNoteStoringTO,
                   <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;properties,
                   <a href="../../../../../../../com/communote/server/core/blog/notes/processors/NoteNotificationDetails.html" title="class in com.communote.server.core.blog.notes.processors">NoteNotificationDetails</a>&nbsp;resendDetails)</code>
<div class="block">Whether this notification processor wants to send notifications.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../com/communote/server/core/blog/notes/processors/NotificationNoteProcessor.html#notifyAuthor--">notifyAuthor</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../com/communote/server/core/blog/notes/processors/NotificationNoteProcessor.html#process-com.communote.server.model.note.Note-com.communote.server.api.core.note.NoteStoringTO-java.util.Map-">process</a></span>(<a href="../../../../../../../com/communote/server/model/note/Note.html" title="class in com.communote.server.model.note">Note</a>&nbsp;note,
       <a href="../../../../../../../com/communote/server/api/core/note/NoteStoringTO.html" title="class in com.communote.server.api.core.note">NoteStoringTO</a>&nbsp;orginalNoteStoringTO,
       <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;properties)</code>
<div class="block">Allows synchronous processing of a note after it was created or updated.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../com/communote/server/core/blog/notes/processors/NotificationNoteProcessor.html#processAsynchronously-java.lang.Long-com.communote.server.api.core.note.processor.NoteStoringPostProcessorContext-">processAsynchronously</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;noteId,
                     <a href="../../../../../../../com/communote/server/api/core/note/processor/NoteStoringPostProcessorContext.html" title="class in com.communote.server.api.core.note.processor">NoteStoringPostProcessorContext</a>&nbsp;context)</code>
<div class="block">Allows asynchronous processing of a note after it was stored.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../com/communote/server/core/blog/notes/processors/NotificationNoteProcessor.html#setNoteDao-com.communote.server.persistence.blog.NoteDao-">setNoteDao</a></span>(<a href="../../../../../../../com/communote/server/persistence/blog/NoteDao.html" title="interface in com.communote.server.persistence.blog">NoteDao</a>&nbsp;noteDao)</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../com/communote/server/core/blog/notes/processors/NotificationNoteProcessor.html#setNotificationService-com.communote.server.core.messaging.NotificationService-">setNotificationService</a></span>(<a href="../../../../../../../com/communote/server/core/messaging/NotificationService.html" title="class in com.communote.server.core.messaging">NotificationService</a>&nbsp;notificationService)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.communote.server.api.core.note.processor.NoteStoringPostProcessor">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.communote.server.api.core.note.processor.<a href="../../../../../../../com/communote/server/api/core/note/processor/NoteStoringPostProcessor.html" title="interface in com.communote.server.api.core.note.processor">NoteStoringPostProcessor</a></h3>
<code><a href="../../../../../../../com/communote/server/api/core/note/processor/NoteStoringPostProcessor.html#getId--">getId</a>, <a href="../../../../../../../com/communote/server/api/core/note/processor/NoteStoringPostProcessor.html#getOrder--">getOrder</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="NotificationNoteProcessor--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>NotificationNoteProcessor</h4>
<pre>public&nbsp;NotificationNoteProcessor()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="isSendNotifications-com.communote.server.model.note.Note-com.communote.server.api.core.note.NoteStoringTO-java.util.Map-com.communote.server.core.blog.notes.processors.NoteNotificationDetails-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSendNotifications</h4>
<pre>protected abstract&nbsp;boolean&nbsp;isSendNotifications(<a href="../../../../../../../com/communote/server/model/note/Note.html" title="class in com.communote.server.model.note">Note</a>&nbsp;note,
                                               <a href="../../../../../../../com/communote/server/api/core/note/NoteStoringTO.html" title="class in com.communote.server.api.core.note">NoteStoringTO</a>&nbsp;orginalNoteStoringTO,
                                               <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;properties,
                                               <a href="../../../../../../../com/communote/server/core/blog/notes/processors/NoteNotificationDetails.html" title="class in com.communote.server.core.blog.notes.processors">NoteNotificationDetails</a>&nbsp;resendDetails)</pre>
<div class="block">Whether this notification processor wants to send notifications. This method is called by
 <a href="../../../../../../../com/communote/server/core/blog/notes/processors/NotificationNoteProcessor.html#process-com.communote.server.model.note.Note-com.communote.server.api.core.note.NoteStoringTO-java.util.Map-"><code>process(Note, NoteStoringTO, Map)</code></a> in the synchronous processing phase.
 Implementations of this check should be fast.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>note</code> - the note which was created or updated</dd>
<dd><code>orginalNoteStoringTO</code> - the TO which was used to create or update the note</dd>
<dd><code>properties</code> - Properties that can be used to pass some data to the asynchronous post-processing.
            They will be available in the NoteStoringPostProcessorContext.</dd>
<dd><code>resendDetails</code> - if the note was updated and the author does not which to resend notifications this
            object will contain details about notifications send for the note before the
            update. Will be null in all other cases.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if this processor wants to send notifications, false otherwise</dd>
</dl>
</li>
</ul>
<a name="extractUserIdsToSkip-com.communote.server.api.core.note.processor.NoteStoringPostProcessorContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>extractUserIdsToSkip</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;extractUserIdsToSkip(<a href="../../../../../../../com/communote/server/api/core/note/processor/NoteStoringPostProcessorContext.html" title="class in com.communote.server.api.core.note.processor">NoteStoringPostProcessorContext</a>&nbsp;context)</pre>
<div class="block">Extracts the IDs of the users to not notify from the context properties and adds them to the
 context attributes so it can be reused by all notification processors handling the same note.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - the post processing context</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the IDs of the users to not notify</dd>
</dl>
</li>
</ul>
<a name="getNoteDao--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNoteDao</h4>
<pre>protected&nbsp;<a href="../../../../../../../com/communote/server/persistence/blog/NoteDao.html" title="interface in com.communote.server.persistence.blog">NoteDao</a>&nbsp;getNoteDao()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the note DAO</dd>
</dl>
</li>
</ul>
<a name="getNotificationDefinition--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNotificationDefinition</h4>
<pre>public&nbsp;<a href="../../../../../../../com/communote/server/core/messaging/NotificationDefinition.html" title="class in com.communote.server.core.messaging">NotificationDefinition</a>&nbsp;getNotificationDefinition()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The notification definition this processor works for. This is used for filtering
         users. Default is MentionNotificationDefinition.</dd>
</dl>
</li>
</ul>
<a name="getNotificationService--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNotificationService</h4>
<pre>protected&nbsp;<a href="../../../../../../../com/communote/server/core/messaging/NotificationService.html" title="class in com.communote.server.core.messaging">NotificationService</a>&nbsp;getNotificationService()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the notificationDefinitionService</dd>
</dl>
</li>
</ul>
<a name="getUsersToNotify-com.communote.server.model.note.Note-com.communote.server.api.core.note.processor.NoteStoringPostProcessorContext-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUsersToNotify</h4>
<pre>protected abstract&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="../../../../../../../com/communote/server/model/user/User.html" title="class in com.communote.server.model.user">User</a>&gt;&nbsp;getUsersToNotify(<a href="../../../../../../../com/communote/server/model/note/Note.html" title="class in com.communote.server.model.note">Note</a>&nbsp;note,
                                                     <a href="../../../../../../../com/communote/server/api/core/note/processor/NoteStoringPostProcessorContext.html" title="class in com.communote.server.api.core.note.processor">NoteStoringPostProcessorContext</a>&nbsp;context,
                                                     <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;userIdsToSkip)</pre>
<div class="block">Retrieves the users to be notified. Implementors need not to be concerned about filtering the
 user not to notify because this is done in the
 <a href="../../../../../../../com/communote/server/core/blog/notes/processors/NotificationNoteProcessor.html#processAsynchronously-java.lang.Long-com.communote.server.api.core.note.processor.NoteStoringPostProcessorContext-"><code>processAsynchronously(Long, NoteStoringPostProcessorContext)</code></a> method. Whether users
 should be ignored if they do not have read access to the blog mainly depends on the type of
 the notification processor and is thus implementation specific.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>note</code> - the note to notify about</dd>
<dd><code>context</code> - the context</dd>
<dd><code>userIdsToSkip</code> - the IDs of the users that should not be notified</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the users to notify, can be null</dd>
</dl>
</li>
</ul>
<a name="notifyAuthor--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>notifyAuthor</h4>
<pre>public&nbsp;boolean&nbsp;notifyAuthor()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True, if the notes author should also be notified, else false. Default is false.</dd>
</dl>
</li>
</ul>
<a name="process-com.communote.server.model.note.Note-com.communote.server.api.core.note.NoteStoringTO-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>process</h4>
<pre>public&nbsp;boolean&nbsp;process(<a href="../../../../../../../com/communote/server/model/note/Note.html" title="class in com.communote.server.model.note">Note</a>&nbsp;note,
                       <a href="../../../../../../../com/communote/server/api/core/note/NoteStoringTO.html" title="class in com.communote.server.api.core.note">NoteStoringTO</a>&nbsp;orginalNoteStoringTO,
                       <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;properties)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../com/communote/server/api/core/note/processor/NoteStoringPostProcessor.html#process-com.communote.server.model.note.Note-com.communote.server.api.core.note.NoteStoringTO-java.util.Map-">NoteStoringPostProcessor</a></code></span></div>
<div class="block">Allows synchronous processing of a note after it was created or updated. Synchronous means
 that this method is run within the transaction in which the note was created or updated. In
 addition to the synchronous processing, this method returns whether an asynchronous
 post-processing of the note by this processor is required. An implementation should be fast
 and must not modify the note in a way which leads to a semantically invalid note or note
 hierarchy.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../com/communote/server/api/core/note/processor/NoteStoringPostProcessor.html#process-com.communote.server.model.note.Note-com.communote.server.api.core.note.NoteStoringTO-java.util.Map-">process</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../com/communote/server/api/core/note/processor/NoteStoringPostProcessor.html" title="interface in com.communote.server.api.core.note.processor">NoteStoringPostProcessor</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>note</code> - the note to process</dd>
<dd><code>orginalNoteStoringTO</code> - the noteStoringTO that holds the original data which was passed to the note
            creation/update process</dd>
<dd><code>properties</code> - Properties that can be used to pass some data to the asynchronous post-processing.
            They will be available in the <a href="../../../../../../../com/communote/server/api/core/note/processor/NoteStoringPostProcessorContext.html" title="class in com.communote.server.api.core.note.processor"><code>NoteStoringPostProcessorContext</code></a>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if this processor also wants to process this note asynchronously</dd>
</dl>
</li>
</ul>
<a name="processAsynchronously-java.lang.Long-com.communote.server.api.core.note.processor.NoteStoringPostProcessorContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processAsynchronously</h4>
<pre>public&nbsp;void&nbsp;processAsynchronously(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;noteId,
                                  <a href="../../../../../../../com/communote/server/api/core/note/processor/NoteStoringPostProcessorContext.html" title="class in com.communote.server.api.core.note.processor">NoteStoringPostProcessorContext</a>&nbsp;context)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../com/communote/server/api/core/note/processor/NoteStoringPostProcessor.html#processAsynchronously-java.lang.Long-com.communote.server.api.core.note.processor.NoteStoringPostProcessorContext-">NoteStoringPostProcessor</a></code></span></div>
<div class="block">Allows asynchronous processing of a note after it was stored. This method is only called if
 the process method returned <code>true</code> for this note. Since the method is called
 asynchronously there will be no current user. Each post-processor implementation is run
 within its own transaction.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../com/communote/server/api/core/note/processor/NoteStoringPostProcessor.html#processAsynchronously-java.lang.Long-com.communote.server.api.core.note.processor.NoteStoringPostProcessorContext-">processAsynchronously</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../com/communote/server/api/core/note/processor/NoteStoringPostProcessor.html" title="interface in com.communote.server.api.core.note.processor">NoteStoringPostProcessor</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>noteId</code> - the ID of the note to process. If the ID cannot be resolved to a note, which might
            be the case if the note was deleted, implementations should just return.</dd>
<dd><code>context</code> - the context which holds some additional data and allows sharing information with
            subsequent processors</dd>
</dl>
</li>
</ul>
<a name="setNoteDao-com.communote.server.persistence.blog.NoteDao-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNoteDao</h4>
<pre>public&nbsp;void&nbsp;setNoteDao(<a href="../../../../../../../com/communote/server/persistence/blog/NoteDao.html" title="interface in com.communote.server.persistence.blog">NoteDao</a>&nbsp;noteDao)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>noteDao</code> - The note dao.</dd>
</dl>
</li>
</ul>
<a name="setNotificationService-com.communote.server.core.messaging.NotificationService-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setNotificationService</h4>
<pre>public&nbsp;void&nbsp;setNotificationService(<a href="../../../../../../../com/communote/server/core/messaging/NotificationService.html" title="class in com.communote.server.core.messaging">NotificationService</a>&nbsp;notificationService)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>notificationService</code> - the notification service to set</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/NotificationNoteProcessor.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../com/communote/server/core/blog/notes/processors/NoteStoringPreProcessorManagerImpl.html" title="class in com.communote.server.core.blog.notes.processors"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../com/communote/server/core/blog/notes/processors/RemoveUnsupportedMarkupNotePreProcessor.html" title="class in com.communote.server.core.blog.notes.processors"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?com/communote/server/core/blog/notes/processors/NotificationNoteProcessor.html" target="_top">Frames</a></li>
<li><a href="NotificationNoteProcessor.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2018 <a href="https://communote.github.io/">Communote GmbH</a>. All rights reserved.</small></p>
</body>
</html>
