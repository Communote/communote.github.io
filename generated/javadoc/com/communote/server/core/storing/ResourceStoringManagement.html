<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_162) on Sun Dec 30 23:34:56 CET 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ResourceStoringManagement (Communote 3.5 API)</title>
<meta name="date" content="2018-12-30">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ResourceStoringManagement (Communote 3.5 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6,"i14":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ResourceStoringManagement.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/communote/server/core/storing/ResourceStoringHelper.html" title="class in com.communote.server.core.storing"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/communote/server/core/storing/ResourceStoringManagementBase.html" title="class in com.communote.server.core.storing"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/communote/server/core/storing/ResourceStoringManagement.html" target="_top">Frames</a></li>
<li><a href="ResourceStoringManagement.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.communote.server.core.storing</div>
<h2 title="Interface ResourceStoringManagement" class="title">Interface ResourceStoringManagement</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../com/communote/server/core/storing/ResourceStoringManagementBase.html" title="class in com.communote.server.core.storing">ResourceStoringManagementBase</a>, <a href="../../../../../com/communote/server/core/storing/ResourceStoringManagementImpl.html" title="class in com.communote.server.core.storing">ResourceStoringManagementImpl</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">ResourceStoringManagement</span></pre>
<div class="block">Service interface for attachment handling</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Communote GmbH - <a href="http://www.communote.com/">http://www.communote.com/</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/communote/server/core/storing/ResourceStoringManagement.html#addAttachmentStoringPreProcessor-com.communote.server.core.storing.AttachmentStoringPreProcessor-">addAttachmentStoringPreProcessor</a></span>(<a href="../../../../../com/communote/server/core/storing/AttachmentStoringPreProcessor.html" title="interface in com.communote.server.core.storing">AttachmentStoringPreProcessor</a>&nbsp;processor)</code>
<div class="block">Method to add a new processor to the list of processors.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/communote/server/core/storing/ResourceStoringManagement.html#assertReadAccess-java.lang.Long-">assertReadAccess</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;attachmentId)</code>
<div class="block">Assert that the current user has read access to the attachment</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/communote/server/core/storing/ResourceStoringManagement.html#assertWriteAccess-java.lang.Long-">assertWriteAccess</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;attachmentId)</code>
<div class="block">Assert that the current user has access to edit the attachment</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/communote/server/core/storing/ResourceStoringManagement.html#deleteAttachment-java.lang.Long-">deleteAttachment</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;attachmentId)</code>
<div class="block">Deletes an attachment.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/communote/server/core/storing/ResourceStoringManagement.html#deleteOrphanedAttachments-java.util.Collection-">deleteOrphanedAttachments</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;attachmentIds)</code>
<div class="block">Deletes all provided attachments that are not connected to a note.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/communote/server/core/storing/ResourceStoringManagement.html#deleteOrphanedAttachments-java.util.Date-">deleteOrphanedAttachments</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;upperUploadDate)</code>
<div class="block">Remove all attachments which are not connected to a note and which are older than the given
 date.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../../com/communote/server/core/vo/content/AttachmentTO.html" title="class in com.communote.server.core.vo.content">AttachmentTO</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/communote/server/core/storing/ResourceStoringManagement.html#getAttachment-com.communote.server.core.crc.vo.ContentId-">getAttachment</a></span>(<a href="../../../../../com/communote/server/core/crc/vo/ContentId.html" title="class in com.communote.server.core.crc.vo">ContentId</a>&nbsp;contentId)</code>
<div class="block">
 Returns an attachment with the delivered content id.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../../com/communote/server/core/vo/content/AttachmentTO.html" title="class in com.communote.server.core.vo.content">AttachmentTO</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/communote/server/core/storing/ResourceStoringManagement.html#getAttachment-java.lang.Long-">getAttachment</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;attachmentId)</code>
<div class="block">Get an attachment by the given ID.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/communote/server/core/storing/ResourceStoringManagement.html#getAttachmentsOfNote-java.lang.Long-java.util.Collection-com.communote.common.converter.Converter-">getAttachmentsOfNote</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;noteId,
                    <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;attachmentIdsToFilter,
                    <a href="../../../../../com/communote/common/converter/Converter.html" title="interface in com.communote.common.converter">Converter</a>&lt;<a href="../../../../../com/communote/server/model/attachment/Attachment.html" title="class in com.communote.server.model.attachment">Attachment</a>,T&gt;&nbsp;converter)</code>
<div class="block">Return the attachments of a note converted with the help of the provided converter</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/communote/server/core/storing/ResourceStoringManagement.html#getNoteOfAttachment-com.communote.server.core.crc.vo.ContentId-">getNoteOfAttachment</a></span>(<a href="../../../../../com/communote/server/core/crc/vo/ContentId.html" title="class in com.communote.server.core.crc.vo">ContentId</a>&nbsp;contentId)</code>
<div class="block">Get the note the given attachment is assigned to.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/communote/server/core/storing/ResourceStoringManagement.html#getNoteOfAttachment-java.lang.Long-">getNoteOfAttachment</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;attachmentId)</code>
<div class="block">Get the note the given attachment is assigned to.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/communote/server/core/storing/ResourceStoringManagement.html#migrateContentTypeEmptyAttachments--">migrateContentTypeEmptyAttachments</a></span>()</code>
<div class="block">
 Migrate the attachments with an empty content type</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/communote/server/core/storing/ResourceStoringManagement.html#removeAttachmentStoringPreProcessor-com.communote.server.core.storing.AttachmentStoringPreProcessor-">removeAttachmentStoringPreProcessor</a></span>(<a href="../../../../../com/communote/server/core/storing/AttachmentStoringPreProcessor.html" title="interface in com.communote.server.core.storing">AttachmentStoringPreProcessor</a>&nbsp;processor)</code>
<div class="block">Method to remove a new processor from the list of registered processors.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="../../../../../com/communote/server/model/attachment/Attachment.html" title="class in com.communote.server.model.attachment">Attachment</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/communote/server/core/storing/ResourceStoringManagement.html#storeAttachment-com.communote.server.core.vo.content.AttachmentTO-">storeAttachment</a></span>(<a href="../../../../../com/communote/server/core/vo/content/AttachmentTO.html" title="class in com.communote.server.core.vo.content">AttachmentTO</a>&nbsp;attachment)</code>
<div class="block">Store the attachment in the repository and return the created entity.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="../../../../../com/communote/server/model/attachment/Attachment.html" title="class in com.communote.server.model.attachment">Attachment</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/communote/server/core/storing/ResourceStoringManagement.html#storeCopyOfAttachment-com.communote.server.model.attachment.Attachment-">storeCopyOfAttachment</a></span>(<a href="../../../../../com/communote/server/model/attachment/Attachment.html" title="class in com.communote.server.model.attachment">Attachment</a>&nbsp;contentResource)</code>
<div class="block">Create a copy of a stored attachment.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="addAttachmentStoringPreProcessor-com.communote.server.core.storing.AttachmentStoringPreProcessor-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addAttachmentStoringPreProcessor</h4>
<pre>void&nbsp;addAttachmentStoringPreProcessor(<a href="../../../../../com/communote/server/core/storing/AttachmentStoringPreProcessor.html" title="interface in com.communote.server.core.storing">AttachmentStoringPreProcessor</a>&nbsp;processor)</pre>
<div class="block">Method to add a new processor to the list of processors.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>processor</code> - The processor.</dd>
</dl>
</li>
</ul>
<a name="assertReadAccess-java.lang.Long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assertReadAccess</h4>
<pre>void&nbsp;assertReadAccess(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;attachmentId)
               throws <a href="../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a>,
                      <a href="../../../../../com/communote/server/core/blog/AttachmentNotFoundException.html" title="class in com.communote.server.core.blog">AttachmentNotFoundException</a></pre>
<div class="block">Assert that the current user has read access to the attachment</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>attachmentId</code> - the ID of the attachment</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a></code> - in case the user has no read access</dd>
<dd><code><a href="../../../../../com/communote/server/core/blog/AttachmentNotFoundException.html" title="class in com.communote.server.core.blog">AttachmentNotFoundException</a></code> - in case the attachment does not exist</dd>
</dl>
</li>
</ul>
<a name="assertWriteAccess-java.lang.Long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assertWriteAccess</h4>
<pre>void&nbsp;assertWriteAccess(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;attachmentId)
                throws <a href="../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a>,
                       <a href="../../../../../com/communote/server/core/blog/AttachmentNotFoundException.html" title="class in com.communote.server.core.blog">AttachmentNotFoundException</a></pre>
<div class="block">Assert that the current user has access to edit the attachment</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>attachmentId</code> - the ID of the attachment</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a></code> - in case the user has no read access</dd>
<dd><code><a href="../../../../../com/communote/server/core/blog/AttachmentNotFoundException.html" title="class in com.communote.server.core.blog">AttachmentNotFoundException</a></code> - in case the attachment does not exist</dd>
</dl>
</li>
</ul>
<a name="deleteAttachment-java.lang.Long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteAttachment</h4>
<pre>void&nbsp;deleteAttachment(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;attachmentId)
               throws <a href="../../../../../com/communote/server/core/storing/AttachmentStillAssignedException.html" title="class in com.communote.server.core.storing">AttachmentStillAssignedException</a>,
                      <a href="../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a></pre>
<div class="block">Deletes an attachment.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>attachmentId</code> - the ID of attachment to delete</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/communote/server/core/storing/AttachmentStillAssignedException.html" title="class in com.communote.server.core.storing">AttachmentStillAssignedException</a></code> - in case the attachment cannot be deleted because it is still assigned to the note</dd>
<dd><code><a href="../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a></code> - Thrown, when the current user is not allowed to remove the given attachment.</dd>
</dl>
</li>
</ul>
<a name="deleteOrphanedAttachments-java.util.Date-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteOrphanedAttachments</h4>
<pre>int&nbsp;deleteOrphanedAttachments(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;upperUploadDate)
                       throws <a href="../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a></pre>
<div class="block">Remove all attachments which are not connected to a note and which are older than the given
 date.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>upperUploadDate</code> - Attachments must be older than this date.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of removed attachments.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a></code> - in case the current user is not the internal system user</dd>
</dl>
</li>
</ul>
<a name="deleteOrphanedAttachments-java.util.Collection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteOrphanedAttachments</h4>
<pre>void&nbsp;deleteOrphanedAttachments(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;attachmentIds)
                        throws <a href="../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a></pre>
<div class="block">Deletes all provided attachments that are not connected to a note.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>attachmentIds</code> - the IDs of the attachments to delete</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a></code></dd>
</dl>
</li>
</ul>
<a name="getAttachment-com.communote.server.core.crc.vo.ContentId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAttachment</h4>
<pre><a href="../../../../../com/communote/server/core/vo/content/AttachmentTO.html" title="class in com.communote.server.core.vo.content">AttachmentTO</a>&nbsp;getAttachment(<a href="../../../../../com/communote/server/core/crc/vo/ContentId.html" title="class in com.communote.server.core.crc.vo">ContentId</a>&nbsp;contentId)
                    throws <a href="../../../../../com/communote/server/persistence/crc/ContentRepositoryException.html" title="class in com.communote.server.persistence.crc">ContentRepositoryException</a>,
                           <a href="../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a></pre>
<div class="block"><p>
 Returns an attachment with the delivered content id. This method checks if the current user
 has read access to the note the attachment belongs to.
 </p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/communote/server/persistence/crc/ContentRepositoryException.html" title="class in com.communote.server.persistence.crc">ContentRepositoryException</a></code></dd>
<dd><code><a href="../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a></code></dd>
</dl>
</li>
</ul>
<a name="getAttachment-java.lang.Long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAttachment</h4>
<pre><a href="../../../../../com/communote/server/core/vo/content/AttachmentTO.html" title="class in com.communote.server.core.vo.content">AttachmentTO</a>&nbsp;getAttachment(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;attachmentId)
                    throws <a href="../../../../../com/communote/server/persistence/crc/ContentRepositoryException.html" title="class in com.communote.server.persistence.crc">ContentRepositoryException</a>,
                           <a href="../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a>,
                           <a href="../../../../../com/communote/server/core/blog/AttachmentNotFoundException.html" title="class in com.communote.server.core.blog">AttachmentNotFoundException</a></pre>
<div class="block">Get an attachment by the given ID. This method checks if the current user has read access to
 the note the attachment belongs to.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>attachmentId</code> - the ID of the attachment</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a></code> - in case the current user has no access to the attachment. This is the case if the
             attachment was not yet published and the current user is not the uploader or the
             attachment is published and the current user has no access to the note of the
             attachment.</dd>
<dd><code><a href="../../../../../com/communote/server/core/blog/AttachmentNotFoundException.html" title="class in com.communote.server.core.blog">AttachmentNotFoundException</a></code> - in case the attachment does not exist</dd>
<dd><code><a href="../../../../../com/communote/server/persistence/crc/ContentRepositoryException.html" title="class in com.communote.server.persistence.crc">ContentRepositoryException</a></code> - in case the attachment data cannot be read from the content repository were it is
             stored</dd>
</dl>
</li>
</ul>
<a name="getAttachmentsOfNote-java.lang.Long-java.util.Collection-com.communote.common.converter.Converter-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAttachmentsOfNote</h4>
<pre>&lt;T&gt;&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;T&gt;&nbsp;getAttachmentsOfNote(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;noteId,
                                       <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;attachmentIdsToFilter,
                                       <a href="../../../../../com/communote/common/converter/Converter.html" title="interface in com.communote.common.converter">Converter</a>&lt;<a href="../../../../../com/communote/server/model/attachment/Attachment.html" title="class in com.communote.server.model.attachment">Attachment</a>,T&gt;&nbsp;converter)
                                throws <a href="../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a>,
                                       <a href="../../../../../com/communote/server/api/core/common/NotFoundException.html" title="class in com.communote.server.api.core.common">NotFoundException</a></pre>
<div class="block">Return the attachments of a note converted with the help of the provided converter</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - The target type of the conversion</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>noteId</code> - the ID of the note</dd>
<dd><code>attachmentIdsToFilter</code> - optional collection of attachment IDs to filter the result by only adding those
            attachments whose ID is in the collection. If omitted all attachments will be
            considered.</dd>
<dd><code>converter</code> - the converter to convert the found attachments</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Collection of all attachments for the given note.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/communote/server/api/core/common/NotFoundException.html" title="class in com.communote.server.api.core.common">NotFoundException</a></code> - in case the note does not exist</dd>
<dd><code><a href="../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a></code> - in case the current user has no read access to the note</dd>
</dl>
</li>
</ul>
<a name="getNoteOfAttachment-com.communote.server.core.crc.vo.ContentId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNoteOfAttachment</h4>
<pre><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;getNoteOfAttachment(<a href="../../../../../com/communote/server/core/crc/vo/ContentId.html" title="class in com.communote.server.core.crc.vo">ContentId</a>&nbsp;contentId)
                  throws <a href="../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a></pre>
<div class="block">Get the note the given attachment is assigned to.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>contentId</code> - the content ID of the attachment</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the ID of the note or null if the attachment does not exists or is not is not yet
         published and thus not connected to a note</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a></code> - in case the current user has no access to the note</dd>
</dl>
</li>
</ul>
<a name="getNoteOfAttachment-java.lang.Long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNoteOfAttachment</h4>
<pre><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;getNoteOfAttachment(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;attachmentId)
                  throws <a href="../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a></pre>
<div class="block">Get the note the given attachment is assigned to.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>attachmentId</code> - the ID of the attachment</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the ID of the note or null if the attachment does not exists or is not is not yet
         published and thus not connected to a note</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a></code> - in case the current user has no access to the note</dd>
</dl>
</li>
</ul>
<a name="migrateContentTypeEmptyAttachments--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>migrateContentTypeEmptyAttachments</h4>
<pre>void&nbsp;migrateContentTypeEmptyAttachments()</pre>
<div class="block"><p>
 Migrate the attachments with an empty content type
 </p></div>
</li>
</ul>
<a name="removeAttachmentStoringPreProcessor-com.communote.server.core.storing.AttachmentStoringPreProcessor-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeAttachmentStoringPreProcessor</h4>
<pre>void&nbsp;removeAttachmentStoringPreProcessor(<a href="../../../../../com/communote/server/core/storing/AttachmentStoringPreProcessor.html" title="interface in com.communote.server.core.storing">AttachmentStoringPreProcessor</a>&nbsp;processor)</pre>
<div class="block">Method to remove a new processor from the list of registered processors.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>processor</code> - The processor.</dd>
</dl>
</li>
</ul>
<a name="storeAttachment-com.communote.server.core.vo.content.AttachmentTO-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storeAttachment</h4>
<pre><a href="../../../../../com/communote/server/model/attachment/Attachment.html" title="class in com.communote.server.model.attachment">Attachment</a>&nbsp;storeAttachment(<a href="../../../../../com/communote/server/core/vo/content/AttachmentTO.html" title="class in com.communote.server.core.vo.content">AttachmentTO</a>&nbsp;attachment)
                    throws <a href="../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a></pre>
<div class="block">Store the attachment in the repository and return the created entity. The uploader of
 attachment will be the current user or in case the current user is the internal system user,
 the user identified by the uploaderId.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>attachment</code> - TO containing the details of the attachment to store.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The stored attachment.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a></code> - in case the current user is not the internal system or an authenticated Communote
             user</dd>
</dl>
</li>
</ul>
<a name="storeCopyOfAttachment-com.communote.server.model.attachment.Attachment-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>storeCopyOfAttachment</h4>
<pre><a href="../../../../../com/communote/server/model/attachment/Attachment.html" title="class in com.communote.server.model.attachment">Attachment</a>&nbsp;storeCopyOfAttachment(<a href="../../../../../com/communote/server/model/attachment/Attachment.html" title="class in com.communote.server.model.attachment">Attachment</a>&nbsp;contentResource)
                          throws <a href="../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a></pre>
<div class="block">Create a copy of a stored attachment. The copy will be returned.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a></code> - in case the current user is not the internal system or an authenticated Communote
             user</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ResourceStoringManagement.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/communote/server/core/storing/ResourceStoringHelper.html" title="class in com.communote.server.core.storing"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/communote/server/core/storing/ResourceStoringManagementBase.html" title="class in com.communote.server.core.storing"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/communote/server/core/storing/ResourceStoringManagement.html" target="_top">Frames</a></li>
<li><a href="ResourceStoringManagement.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2018 <a href="https://communote.github.io/">Communote GmbH</a>. All rights reserved.</small></p>
</body>
</html>
