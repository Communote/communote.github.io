<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_162) on Sat Feb 02 18:57:41 CET 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ActivityServiceImpl (Communote 3.5 API)</title>
<meta name="date" content="2019-02-02">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ActivityServiceImpl (Communote 3.5 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ActivityServiceImpl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?com/communote/plugins/activity/base/service/impl/ActivityServiceImpl.html" target="_top">Frames</a></li>
<li><a href="ActivityServiceImpl.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.communote.plugins.activity.base.service.impl</div>
<h2 title="Class ActivityServiceImpl" class="title">Class ActivityServiceImpl</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.communote.plugins.activity.base.service.impl.ActivityServiceImpl</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html" title="interface in com.communote.plugins.activity.base.service">ActivityService</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">ActivityServiceImpl</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html" title="interface in com.communote.plugins.activity.base.service">ActivityService</a></pre>
<div class="block">Service to manage activity definitions and configurations</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Communote GmbH - <a href="http://www.communote.com/">http://www.communote.com/</a></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../com/communote/plugins/activity/base/data/ActivityDefinition.html" title="class in com.communote.plugins.activity.base.data"><code>ActivityDefinition</code></a>, 
<a href="../../../../../../../com/communote/plugins/activity/base/data/ActivityConfiguration.html" title="class in com.communote.plugins.activity.base.data"><code>ActivityConfiguration</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.com.communote.plugins.activity.base.service.ActivityService">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;com.communote.plugins.activity.base.service.<a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html" title="interface in com.communote.plugins.activity.base.service">ActivityService</a></h3>
<code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html#NOTE_PROPERTY_KEY_ACTIVITY">NOTE_PROPERTY_KEY_ACTIVITY</a>, <a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html#NOTE_PROPERTY_KEY_ACTIVITY_UNDELETABLE">NOTE_PROPERTY_KEY_ACTIVITY_UNDELETABLE</a>, <a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html#NOTE_PROPERTY_VALUE_ACTIVITY">NOTE_PROPERTY_VALUE_ACTIVITY</a>, <a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html#PROPERTY_KEY_GROUP">PROPERTY_KEY_GROUP</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../com/communote/plugins/activity/base/service/impl/ActivityServiceImpl.html#ActivityServiceImpl--">ActivityServiceImpl</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../com/communote/plugins/activity/base/service/impl/ActivityServiceImpl.html#activateDeactivateActivitiesForTopic-java.lang.Long-java.util.Map-">activateDeactivateActivitiesForTopic</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;topicId,
                                    <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../../../com/communote/plugins/activity/base/data/ActivityDefinition.html" title="class in com.communote.plugins.activity.base.data">ActivityDefinition</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a>&gt;&nbsp;settings)</code>
<div class="block">Activate and deactivate activities for a given topic.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../com/communote/plugins/activity/base/service/impl/ActivityServiceImpl.html#addDefinition-com.communote.plugins.activity.base.data.ActivityDefinition-">addDefinition</a></span>(<a href="../../../../../../../com/communote/plugins/activity/base/data/ActivityDefinition.html" title="class in com.communote.plugins.activity.base.data">ActivityDefinition</a>&nbsp;definition)</code>
<div class="block">Add an activity definition.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../com/communote/plugins/activity/base/service/impl/ActivityServiceImpl.html#convertToActivityNote-com.communote.server.api.core.note.NoteStoringTO-java.lang.String-java.lang.String-">convertToActivityNote</a></span>(<a href="../../../../../../../com/communote/server/api/core/note/NoteStoringTO.html" title="class in com.communote.server.api.core.note">NoteStoringTO</a>&nbsp;noteTO,
                     <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;templateId,
                     <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;templatePropertiesJSON)</code>
<div class="block">Add the required properties to mark the note as an activity of the provided type.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../../com/communote/common/util/Pair.html" title="class in com.communote.common.util">Pair</a>&lt;<a href="../../../../../../../com/communote/plugins/activity/base/data/ActivityDefinition.html" title="class in com.communote.plugins.activity.base.data">ActivityDefinition</a>,<a href="../../../../../../../com/communote/plugins/activity/base/data/ActivityConfiguration.html" title="class in com.communote.plugins.activity.base.data">ActivityConfiguration</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../com/communote/plugins/activity/base/service/impl/ActivityServiceImpl.html#getActivities-java.util.Locale-">getActivities</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Locale.html?is-external=true" title="class or interface in java.util">Locale</a>&nbsp;locale)</code>
<div class="block">Return pairs of associated activity definitions and configurations.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../../com/communote/common/util/Pair.html" title="class in com.communote.common.util">Pair</a>&lt;<a href="../../../../../../../com/communote/plugins/activity/base/data/ActivityDefinition.html" title="class in com.communote.plugins.activity.base.data">ActivityDefinition</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../com/communote/plugins/activity/base/service/impl/ActivityServiceImpl.html#getActivitySettingsForTopic-java.lang.Long-">getActivitySettingsForTopic</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;topicId)</code>
<div class="block">Return a list of activities that can be configured per topic.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../com/communote/plugins/activity/base/service/impl/ActivityServiceImpl.html#isActivityActive-java.lang.String-java.lang.Long-">isActivityActive</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;templateId,
                <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;topicId)</code>
<div class="block">Return whether an activity is active for a given topic.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../com/communote/plugins/activity/base/service/impl/ActivityServiceImpl.html#isActivityDeletableByUser-java.lang.String-">isActivityDeletableByUser</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;templateId)</code>
<div class="block">Return whether an activity is defined or configured to be deletable by the owner of the
 activity message or the manager of the topic.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../com/communote/plugins/activity/base/service/impl/ActivityServiceImpl.html#removeDefinition-java.lang.String-">removeDefinition</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;templateId)</code>
<div class="block">Remove an activity definition.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../com/communote/plugins/activity/base/service/impl/ActivityServiceImpl.html#storeActivityConfigurations-java.util.List-">storeActivityConfigurations</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../../com/communote/plugins/activity/base/data/ActivityConfiguration.html" title="class in com.communote.plugins.activity.base.data">ActivityConfiguration</a>&gt;&nbsp;configurations)</code>
<div class="block">Stores the provided activity configurations.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ActivityServiceImpl--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ActivityServiceImpl</h4>
<pre>public&nbsp;ActivityServiceImpl()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="activateDeactivateActivitiesForTopic-java.lang.Long-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>activateDeactivateActivitiesForTopic</h4>
<pre>public&nbsp;void&nbsp;activateDeactivateActivitiesForTopic(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;topicId,
                                                 <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../../../com/communote/plugins/activity/base/data/ActivityDefinition.html" title="class in com.communote.plugins.activity.base.data">ActivityDefinition</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a>&gt;&nbsp;settings)
                                          throws <a href="../../../../../../../com/communote/server/api/core/common/NotFoundException.html" title="class in com.communote.server.api.core.common">NotFoundException</a>,
                                                 <a href="../../../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a>,
                                                 <a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityServiceException.html" title="class in com.communote.plugins.activity.base.service">ActivityServiceException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html#activateDeactivateActivitiesForTopic-java.lang.Long-java.util.Map-">ActivityService</a></code></span></div>
<div class="block">Activate and deactivate activities for a given topic. Provided activities which cannot be
 configured per topic or whose definition was removed will be ignored. This operation replaces
 any previously stored active or inactive activities of the given topic, with the exception of
 those whose definition was removed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html#activateDeactivateActivitiesForTopic-java.lang.Long-java.util.Map-">activateDeactivateActivitiesForTopic</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html" title="interface in com.communote.plugins.activity.base.service">ActivityService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>topicId</code> - the ID of the topic for which the activities should be stored</dd>
<dd><code>settings</code> - a mapping from activity ID (template ID) to the active state where true means the
            activity should be active and false inactive</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../com/communote/server/api/core/common/NotFoundException.html" title="class in com.communote.server.api.core.common">NotFoundException</a></code> - if the topic does not exist</dd>
<dd><code><a href="../../../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a></code> - if the calling user is not manager of the topic</dd>
<dd><code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityServiceException.html" title="class in com.communote.plugins.activity.base.service">ActivityServiceException</a></code> - in case the existing settings couldn't be read or the new settings couldn't be
             stored</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html#isActivityActive-java.lang.String-java.lang.Long-"><code>ActivityService.isActivityActive(String, Long)</code></a></dd>
</dl>
</li>
</ul>
<a name="addDefinition-com.communote.plugins.activity.base.data.ActivityDefinition-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addDefinition</h4>
<pre>public&nbsp;boolean&nbsp;addDefinition(<a href="../../../../../../../com/communote/plugins/activity/base/data/ActivityDefinition.html" title="class in com.communote.plugins.activity.base.data">ActivityDefinition</a>&nbsp;definition)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html#addDefinition-com.communote.plugins.activity.base.data.ActivityDefinition-">ActivityService</a></code></span></div>
<div class="block">Add an activity definition. A definition is identified by its templateID. If there is already
 a definition with that ID the new one will be ignored.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html#addDefinition-com.communote.plugins.activity.base.data.ActivityDefinition-">addDefinition</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html" title="interface in com.communote.plugins.activity.base.service">ActivityService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>definition</code> - the activity definition to add</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether the definition was added</dd>
</dl>
</li>
</ul>
<a name="convertToActivityNote-com.communote.server.api.core.note.NoteStoringTO-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>convertToActivityNote</h4>
<pre>public&nbsp;void&nbsp;convertToActivityNote(<a href="../../../../../../../com/communote/server/api/core/note/NoteStoringTO.html" title="class in com.communote.server.api.core.note">NoteStoringTO</a>&nbsp;noteTO,
                                  <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;templateId,
                                  <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;templatePropertiesJSON)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html#convertToActivityNote-com.communote.server.api.core.note.NoteStoringTO-java.lang.String-java.lang.String-">ActivityService</a></code></span></div>
<div class="block">Add the required properties to mark the note as an activity of the provided type. This method
 won't check whether the activity exists or is active. This will be done by a note storing
 pre-processor.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html#convertToActivityNote-com.communote.server.api.core.note.NoteStoringTO-java.lang.String-java.lang.String-">convertToActivityNote</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html" title="interface in com.communote.plugins.activity.base.service">ActivityService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>noteTO</code> - the transfer object to enhance</dd>
<dd><code>templateId</code> - the ID of the activity</dd>
<dd><code>templatePropertiesJSON</code> - optional string in JSON which should be passed to the template engine and can
            contain any additional data the template might need. Can be null.</dd>
</dl>
</li>
</ul>
<a name="getActivities-java.util.Locale-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getActivities</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../../com/communote/common/util/Pair.html" title="class in com.communote.common.util">Pair</a>&lt;<a href="../../../../../../../com/communote/plugins/activity/base/data/ActivityDefinition.html" title="class in com.communote.plugins.activity.base.data">ActivityDefinition</a>,<a href="../../../../../../../com/communote/plugins/activity/base/data/ActivityConfiguration.html" title="class in com.communote.plugins.activity.base.data">ActivityConfiguration</a>&gt;&gt;&nbsp;getActivities(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Locale.html?is-external=true" title="class or interface in java.util">Locale</a>&nbsp;locale)
                                                                   throws <a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityServiceException.html" title="class in com.communote.plugins.activity.base.service">ActivityServiceException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html#getActivities-java.util.Locale-">ActivityService</a></code></span></div>
<div class="block">Return pairs of associated activity definitions and configurations. For activities which were
 not configured yet, the pair will contain a default configuration which is derived from the
 definition. In case the definition of an activity was already removed the pair will only
 contain the configuration and the left side will be null.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html#getActivities-java.util.Locale-">getActivities</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html" title="interface in com.communote.plugins.activity.base.service">ActivityService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>locale</code> - if not null the result will be sorted alphabetically by the name (or static name
            if the definition is missing) and by internal</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list of available activities</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityServiceException.html" title="class in com.communote.plugins.activity.base.service">ActivityServiceException</a></code> - in case the stored activity configurations couldn't be loaded</dd>
</dl>
</li>
</ul>
<a name="getActivitySettingsForTopic-java.lang.Long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getActivitySettingsForTopic</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../../com/communote/common/util/Pair.html" title="class in com.communote.common.util">Pair</a>&lt;<a href="../../../../../../../com/communote/plugins/activity/base/data/ActivityDefinition.html" title="class in com.communote.plugins.activity.base.data">ActivityDefinition</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a>&gt;&gt;&nbsp;getActivitySettingsForTopic(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;topicId)
                                                                   throws <a href="../../../../../../../com/communote/server/api/core/common/NotFoundException.html" title="class in com.communote.server.api.core.common">NotFoundException</a>,
                                                                          <a href="../../../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a>,
                                                                          <a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityServiceException.html" title="class in com.communote.plugins.activity.base.service">ActivityServiceException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html#getActivitySettingsForTopic-java.lang.Long-">ActivityService</a></code></span></div>
<div class="block">Return a list of activities that can be configured per topic. The result is a list of pairs
 where the left part is the definition and the right denotes whether the activity is active
 for the topic. For activities that were not yet configured for the topic the right part
 contains a default value. Activities which are deactivated by configuration will not be
 included.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html#getActivitySettingsForTopic-java.lang.Long-">getActivitySettingsForTopic</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html" title="interface in com.communote.plugins.activity.base.service">ActivityService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>topicId</code> - the ID of the topic for which the activities should be retrieved</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the activities with a flag denoting whether they are active or not</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../com/communote/server/api/core/common/NotFoundException.html" title="class in com.communote.server.api.core.common">NotFoundException</a></code> - in case the topic was not found</dd>
<dd><code><a href="../../../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a></code> - in case the current user has no read access to the topic</dd>
<dd><code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityServiceException.html" title="class in com.communote.plugins.activity.base.service">ActivityServiceException</a></code> - in case the stored activity configurations couldn't be loaded</dd>
</dl>
</li>
</ul>
<a name="isActivityActive-java.lang.String-java.lang.Long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isActivityActive</h4>
<pre>public&nbsp;boolean&nbsp;isActivityActive(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;templateId,
                                <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;topicId)
                         throws <a href="../../../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a>,
                                <a href="../../../../../../../com/communote/server/api/core/common/NotFoundException.html" title="class in com.communote.server.api.core.common">NotFoundException</a>,
                                <a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityServiceException.html" title="class in com.communote.plugins.activity.base.service">ActivityServiceException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html#isActivityActive-java.lang.String-java.lang.Long-">ActivityService</a></code></span></div>
<div class="block">Return whether an activity is active for a given topic. An activity is active if the
 definition was not removed and the configuration states that the activity is active. If the
 activity supports a configuration per topic it is considered as active if the previous
 conditions hold and the activity was marked as active for the given topic or was not yet
 configured for that topic at all.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html#isActivityActive-java.lang.String-java.lang.Long-">isActivityActive</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html" title="interface in com.communote.plugins.activity.base.service">ActivityService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>templateId</code> - the ID of the activity definition</dd>
<dd><code>topicId</code> - the ID of the topic, can be null but the return value will be false if the
            activity can be configured per topic</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether an activity is active for the topic</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../com/communote/server/api/core/security/AuthorizationException.html" title="class in com.communote.server.api.core.security">AuthorizationException</a></code> - if the user is not authorized to read the topic</dd>
<dd><code><a href="../../../../../../../com/communote/server/api/core/common/NotFoundException.html" title="class in com.communote.server.api.core.common">NotFoundException</a></code> - if the topic does not exist</dd>
<dd><code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityServiceException.html" title="class in com.communote.plugins.activity.base.service">ActivityServiceException</a></code> - in case the stored activity configurations couldn't be loaded</dd>
</dl>
</li>
</ul>
<a name="isActivityDeletableByUser-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isActivityDeletableByUser</h4>
<pre>public&nbsp;boolean&nbsp;isActivityDeletableByUser(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;templateId)
                                  throws <a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityServiceException.html" title="class in com.communote.plugins.activity.base.service">ActivityServiceException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html#isActivityDeletableByUser-java.lang.String-">ActivityService</a></code></span></div>
<div class="block">Return whether an activity is defined or configured to be deletable by the owner of the
 activity message or the manager of the topic. In case there is no configuration and no
 definition it is assumed the activity existed but the definition was removed and no
 configuration had been created. Therefore the default value defined by
 <a href="../../../../../../../com/communote/plugins/activity/base/data/ActivityDefinition.html#DEFAULT_DELETABLE_BY_USER"><code>ActivityDefinition.DEFAULT_DELETABLE_BY_USER</code></a> is returned.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html#isActivityDeletableByUser-java.lang.String-">isActivityDeletableByUser</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html" title="interface in com.communote.plugins.activity.base.service">ActivityService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>templateId</code> - the ID of the activity</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the users can delete activity messages, false otherwise</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityServiceException.html" title="class in com.communote.plugins.activity.base.service">ActivityServiceException</a></code> - in case the configuration couldn't be loaded</dd>
</dl>
</li>
</ul>
<a name="removeDefinition-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeDefinition</h4>
<pre>public&nbsp;void&nbsp;removeDefinition(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;templateId)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html#removeDefinition-java.lang.String-">ActivityService</a></code></span></div>
<div class="block">Remove an activity definition. The configuration associated with the definition will not be
 removed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html#removeDefinition-java.lang.String-">removeDefinition</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html" title="interface in com.communote.plugins.activity.base.service">ActivityService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>templateId</code> - the ID of the definition to remove. In case there is no definition for the ID,
            nothing will happen.</dd>
</dl>
</li>
</ul>
<a name="storeActivityConfigurations-java.util.List-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>storeActivityConfigurations</h4>
<pre>public&nbsp;void&nbsp;storeActivityConfigurations(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../../com/communote/plugins/activity/base/data/ActivityConfiguration.html" title="class in com.communote.plugins.activity.base.data">ActivityConfiguration</a>&gt;&nbsp;configurations)
                                 throws <a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityServiceException.html" title="class in com.communote.plugins.activity.base.service">ActivityServiceException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html#storeActivityConfigurations-java.util.List-">ActivityService</a></code></span></div>
<div class="block">Stores the provided activity configurations. This replaces all previously stored
 configurations. So if for instance the provided list does not contain some of the previously
 stored configurations these configurations will be removed. To remove all configurations an
 empty list can be used.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html#storeActivityConfigurations-java.util.List-">storeActivityConfigurations</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityService.html" title="interface in com.communote.plugins.activity.base.service">ActivityService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>configurations</code> - the configurations to store</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../com/communote/plugins/activity/base/service/ActivityServiceException.html" title="class in com.communote.plugins.activity.base.service">ActivityServiceException</a></code> - in case the storing of the configurations failed or a configuration was invalid</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ActivityServiceImpl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?com/communote/plugins/activity/base/service/impl/ActivityServiceImpl.html" target="_top">Frames</a></li>
<li><a href="ActivityServiceImpl.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2019 <a href="https://communote.github.io/">Communote team</a>. All rights reserved.</small></p>
</body>
</html>
