<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (1.8.0_74) on Tue Aug 16 20:50:58 CEST 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ConfluenceUserImageProvider (Communote 3.4 API)</title>
<meta name="date" content="2016-08-16">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ConfluenceUserImageProvider (Communote 3.4 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ConfluenceUserImageProvider.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/communote/plugins/confluence/image/ConfluenceUserImageProvider.html" target="_top">Frames</a></li>
<li><a href="ConfluenceUserImageProvider.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.communote.plugins.confluence.image</div>
<h2 title="Class ConfluenceUserImageProvider" class="title">Class ConfluenceUserImageProvider</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../com/communote/server/api/core/image/ImageProvider.html" title="class in com.communote.server.api.core.image">com.communote.server.api.core.image.ImageProvider</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html" title="class in com.communote.server.core.image">com.communote.server.core.image.HttpExternalImageProvider</a>&lt;C&gt;</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../com/communote/server/core/image/type/HttpExternalUserImageProvider.html" title="class in com.communote.server.core.image.type">com.communote.server.core.image.type.HttpExternalUserImageProvider</a>&lt;<a href="../../../../../com/communote/server/model/config/ConfluenceConfiguration.html" title="class in com.communote.server.model.config">ConfluenceConfiguration</a>&gt;</li>
<li>
<ul class="inheritance">
<li>com.communote.plugins.confluence.image.ConfluenceUserImageProvider</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">ConfluenceUserImageProvider</span>
extends <a href="../../../../../com/communote/server/core/image/type/HttpExternalUserImageProvider.html" title="class in com.communote.server.core.image.type">HttpExternalUserImageProvider</a>&lt;<a href="../../../../../com/communote/server/model/config/ConfluenceConfiguration.html" title="class in com.communote.server.model.config">ConfluenceConfiguration</a>&gt;</pre>
<div class="block">This image provider loads the image from Confluence, if the user is a Confluence user.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Communote GmbH - <a href="http://www.communote.com/">http://www.communote.com/</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/communote/plugins/confluence/image/ConfluenceUserImageProvider.html#CLIENT_PROPERTY_KEY_CONFIG_MODIFIED">CLIENT_PROPERTY_KEY_CONFIG_MODIFIED</a></span></code>
<div class="block">Key of a plugin property to store the last modification timestamp of the confluence
 configuration since the configuration does not provide this information.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.com.communote.server.core.image.type.HttpExternalUserImageProvider">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.communote.server.core.image.type.<a href="../../../../../com/communote/server/core/image/type/HttpExternalUserImageProvider.html" title="class in com.communote.server.core.image.type">HttpExternalUserImageProvider</a></h3>
<code><a href="../../../../../com/communote/server/core/image/type/HttpExternalUserImageProvider.html#USER_PROPERTY_KEY_IMAGE_LAST_MODIFIED">USER_PROPERTY_KEY_IMAGE_LAST_MODIFIED</a>, <a href="../../../../../com/communote/server/core/image/type/HttpExternalUserImageProvider.html#USER_PROPERTY_KEY_IMAGE_VERSION_STRING">USER_PROPERTY_KEY_IMAGE_VERSION_STRING</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../com/communote/plugins/confluence/image/ConfluenceUserImageProvider.html#ConfluenceUserImageProvider-java.lang.String-java.lang.String-">ConfluenceUserImageProvider</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;symbolicName,
                           <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;pathToDefaultImage)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/communote/plugins/confluence/image/ConfluenceUserImageProvider.html#canLoad-java.lang.String-">canLoad</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;imageIdentifier)</code>
<div class="block">Test whether a provider can load the image.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../com/communote/server/model/config/ConfluenceConfiguration.html" title="class in com.communote.server.model.config">ConfluenceConfiguration</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/communote/plugins/confluence/image/ConfluenceUserImageProvider.html#getConfiguration--">getConfiguration</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/communote/plugins/confluence/image/ConfluenceUserImageProvider.html#getConfigurationChangeTimestamp-com.communote.server.model.config.ConfluenceConfiguration-">getConfigurationChangeTimestamp</a></span>(<a href="../../../../../com/communote/server/model/config/ConfluenceConfiguration.html" title="class in com.communote.server.model.config">ConfluenceConfiguration</a>&nbsp;config)</code>
<div class="block">Get the timestamp of the last configuration change.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/communote/plugins/confluence/image/ConfluenceUserImageProvider.html#getImageURL-java.lang.String-com.communote.server.model.config.ConfluenceConfiguration-">getImageURL</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;imageIdentifier,
           <a href="../../../../../com/communote/server/model/config/ConfluenceConfiguration.html" title="class in com.communote.server.model.config">ConfluenceConfiguration</a>&nbsp;config)</code>
<div class="block">Get the URL under which the image with the given identifier can be downloaded</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected org.apache.http.protocol.HttpContext</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/communote/plugins/confluence/image/ConfluenceUserImageProvider.html#getRequestContext-java.net.URI-java.lang.String-com.communote.server.model.config.ConfluenceConfiguration-">getRequestContext</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true" title="class or interface in java.net">URI</a>&nbsp;imageUrl,
                 <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;imageIdentifier,
                 <a href="../../../../../com/communote/server/model/config/ConfluenceConfiguration.html" title="class in com.communote.server.model.config">ConfluenceConfiguration</a>&nbsp;config)</code>
<div class="block">Get request context to be used when downloading the given image.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/communote/plugins/confluence/image/ConfluenceUserImageProvider.html#getTimeToLive--">getTimeToLive</a></span>()</code>
<div class="block">Get the number of seconds until a cached image should expire and thus be reloaded</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/communote/plugins/confluence/image/ConfluenceUserImageProvider.html#imageChanged-java.lang.String-">imageChanged</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;imageIdentifier)</code>
<div class="block">If imageIdentifier is not null the version string property is removed so that a new one is
 created the next time the image with the identifier is accessed.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.communote.server.core.image.type.HttpExternalUserImageProvider">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.communote.server.core.image.type.<a href="../../../../../com/communote/server/core/image/type/HttpExternalUserImageProvider.html" title="class in com.communote.server.core.image.type">HttpExternalUserImageProvider</a></h3>
<code><a href="../../../../../com/communote/server/core/image/type/HttpExternalUserImageProvider.html#getPropertyKeyGroup--">getPropertyKeyGroup</a>, <a href="../../../../../com/communote/server/core/image/type/HttpExternalUserImageProvider.html#getPropertyManagement--">getPropertyManagement</a>, <a href="../../../../../com/communote/server/core/image/type/HttpExternalUserImageProvider.html#getUserId-java.lang.String-">getUserId</a>, <a href="../../../../../com/communote/server/core/image/type/HttpExternalUserImageProvider.html#getVersionString-java.lang.String-">getVersionString</a>, <a href="../../../../../com/communote/server/core/image/type/HttpExternalUserImageProvider.html#imageNotDownloaded-java.lang.String-">imageNotDownloaded</a>, <a href="../../../../../com/communote/server/core/image/type/HttpExternalUserImageProvider.html#imageSuccessfullyDownloaded-java.lang.String-java.util.Date-org.apache.http.client.methods.CloseableHttpResponse-">imageSuccessfullyDownloaded</a>, <a href="../../../../../com/communote/server/core/image/type/HttpExternalUserImageProvider.html#isAuthorized-java.lang.String-">isAuthorized</a>, <a href="../../../../../com/communote/server/core/image/type/HttpExternalUserImageProvider.html#updateUserProperty-java.lang.Long-java.lang.String-java.lang.String-">updateUserProperty</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.communote.server.core.image.HttpExternalImageProvider">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.communote.server.core.image.<a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html" title="class in com.communote.server.core.image">HttpExternalImageProvider</a></h3>
<code><a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#assertNotDisabled-java.lang.String-C-">assertNotDisabled</a>, <a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#cleanup--">cleanup</a>, <a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#disableTemporarily-java.lang.String-C-">disableTemporarily</a>, <a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#enable--">enable</a>, <a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#extractImageFromEntity-org.apache.http.HttpEntity-java.util.Date-">extractImageFromEntity</a>, <a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#getConnectionManagerTimeout--">getConnectionManagerTimeout</a>, <a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#getConnectionTimeout--">getConnectionTimeout</a>, <a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#getDefaultImageVersionString--">getDefaultImageVersionString</a>, <a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#getDefaultRequestConfig--">getDefaultRequestConfig</a>, <a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#getDisabledUntilTimestamp--">getDisabledUntilTimestamp</a>, <a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#getHttpClient--">getHttpClient</a>, <a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#getLastModifiedHeaderValue-org.apache.http.client.methods.CloseableHttpResponse-">getLastModifiedHeaderValue</a>, <a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#getNotDisablingStatusCodes--">getNotDisablingStatusCodes</a>, <a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#getRequestHeaders-java.net.URI-java.lang.String-C-">getRequestHeaders</a>, <a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#getSocketTimeout--">getSocketTimeout</a>, <a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#hasDefaultImage-java.lang.String-">hasDefaultImage</a>, <a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#isDisabled-C-">isDisabled</a>, <a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#isDisablingException-java.io.IOException-">isDisablingException</a>, <a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#isExternalProvider--">isExternalProvider</a>, <a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#isProvideDefaultImageIfDisabled--">isProvideDefaultImageIfDisabled</a>, <a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#loadDefaultImage--">loadDefaultImage</a>, <a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#loadImage-java.lang.String-">loadImage</a>, <a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#prepareHttpClient-org.apache.http.impl.client.HttpClientBuilder-">prepareHttpClient</a>, <a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#setHttpClient-org.apache.http.impl.client.CloseableHttpClient-boolean-">setHttpClient</a>, <a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#setProvideDefaultImageIfDisabled-boolean-">setProvideDefaultImageIfDisabled</a>, <a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#validateContentType-java.lang.String-">validateContentType</a>, <a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#validateStatusCode-org.apache.http.StatusLine-">validateStatusCode</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.communote.server.api.core.image.ImageProvider">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.communote.server.api.core.image.<a href="../../../../../com/communote/server/api/core/image/ImageProvider.html" title="class in com.communote.server.api.core.image">ImageProvider</a></h3>
<code><a href="../../../../../com/communote/server/api/core/image/ImageProvider.html#getDefaultImageMimeType--">getDefaultImageMimeType</a>, <a href="../../../../../com/communote/server/api/core/image/ImageProvider.html#getDefaultImageResourceLastModificationTimestamp--">getDefaultImageResourceLastModificationTimestamp</a>, <a href="../../../../../com/communote/server/api/core/image/ImageProvider.html#getIdentifier--">getIdentifier</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="CLIENT_PROPERTY_KEY_CONFIG_MODIFIED">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CLIENT_PROPERTY_KEY_CONFIG_MODIFIED</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> CLIENT_PROPERTY_KEY_CONFIG_MODIFIED</pre>
<div class="block">Key of a plugin property to store the last modification timestamp of the confluence
 configuration since the configuration does not provide this information.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#com.communote.plugins.confluence.image.ConfluenceUserImageProvider.CLIENT_PROPERTY_KEY_CONFIG_MODIFIED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ConfluenceUserImageProvider-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ConfluenceUserImageProvider</h4>
<pre>public&nbsp;ConfluenceUserImageProvider(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;symbolicName,
                                   <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;pathToDefaultImage)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>symbolicName</code> - the the symbolic name of the bundle which will be used as property key group</dd>
<dd><code>pathToDefaultImage</code> - The path to the default image.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="canLoad-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>canLoad</h4>
<pre>public&nbsp;boolean&nbsp;canLoad(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;imageIdentifier)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../com/communote/server/api/core/image/ImageProvider.html#canLoad-java.lang.String-">ImageProvider</a></code></span></div>
<div class="block">Test whether a provider can load the image. This should for instance return false if the
 provider was disabled completely or partially for certain identifiers. Checking whether the
 identified image exists is not necessary because <a href="../../../../../com/communote/server/api/core/image/ImageProvider.html#loadImage-java.lang.String-"><code>ImageProvider.loadImage(String)</code></a> will handle it.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/communote/server/api/core/image/ImageProvider.html#canLoad-java.lang.String-">canLoad</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/communote/server/api/core/image/ImageProvider.html" title="class in com.communote.server.api.core.image">ImageProvider</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>imageIdentifier</code> - the identifier of the image</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether the image can be loaded</dd>
</dl>
</li>
</ul>
<a name="getConfiguration--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConfiguration</h4>
<pre>protected&nbsp;<a href="../../../../../com/communote/server/model/config/ConfluenceConfiguration.html" title="class in com.communote.server.model.config">ConfluenceConfiguration</a>&nbsp;getConfiguration()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#getConfiguration--">getConfiguration</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html" title="class in com.communote.server.core.image">HttpExternalImageProvider</a>&lt;<a href="../../../../../com/communote/server/model/config/ConfluenceConfiguration.html" title="class in com.communote.server.model.config">ConfluenceConfiguration</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the current configuration of the external image provider. During loadImage the same
         configuration object is passed to all called methods.</dd>
</dl>
</li>
</ul>
<a name="getConfigurationChangeTimestamp-com.communote.server.model.config.ConfluenceConfiguration-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConfigurationChangeTimestamp</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;getConfigurationChangeTimestamp(<a href="../../../../../com/communote/server/model/config/ConfluenceConfiguration.html" title="class in com.communote.server.model.config">ConfluenceConfiguration</a>&nbsp;config)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../com/communote/server/core/image/type/HttpExternalUserImageProvider.html#getConfigurationChangeTimestamp-C-">HttpExternalUserImageProvider</a></code></span></div>
<div class="block">Get the timestamp of the last configuration change. This timestamp is used to decide whether
 the image version string property of a user should be refreshed. For instance if the
 configuration changed after the version timesstamp was added it is likely that another image
 will be returned. In this case the version string is updated.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/communote/server/core/image/type/HttpExternalUserImageProvider.html#getConfigurationChangeTimestamp-C-">getConfigurationChangeTimestamp</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/communote/server/core/image/type/HttpExternalUserImageProvider.html" title="class in com.communote.server.core.image.type">HttpExternalUserImageProvider</a>&lt;<a href="../../../../../com/communote/server/model/config/ConfluenceConfiguration.html" title="class in com.communote.server.model.config">ConfluenceConfiguration</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>config</code> - the configuration as returned by <a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#getConfiguration--"><code>HttpExternalImageProvider.getConfiguration()</code></a></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>timestamp of the last tracked configuration change or null if this information is not
         available</dd>
</dl>
</li>
</ul>
<a name="getImageURL-java.lang.String-com.communote.server.model.config.ConfluenceConfiguration-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getImageURL</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getImageURL(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;imageIdentifier,
                             <a href="../../../../../com/communote/server/model/config/ConfluenceConfiguration.html" title="class in com.communote.server.model.config">ConfluenceConfiguration</a>&nbsp;config)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#getImageURL-java.lang.String-C-">HttpExternalImageProvider</a></code></span></div>
<div class="block">Get the URL under which the image with the given identifier can be downloaded</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#getImageURL-java.lang.String-C-">getImageURL</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html" title="class in com.communote.server.core.image">HttpExternalImageProvider</a>&lt;<a href="../../../../../com/communote/server/model/config/ConfluenceConfiguration.html" title="class in com.communote.server.model.config">ConfluenceConfiguration</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>imageIdentifier</code> - the ID of the image to download</dd>
<dd><code>config</code> - the configuration of the image provider, can be null</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the URL to the image. If null is returned the load method will throw an
         ImageNotFoundException</dd>
</dl>
</li>
</ul>
<a name="getRequestContext-java.net.URI-java.lang.String-com.communote.server.model.config.ConfluenceConfiguration-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRequestContext</h4>
<pre>protected&nbsp;org.apache.http.protocol.HttpContext&nbsp;getRequestContext(<a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true" title="class or interface in java.net">URI</a>&nbsp;imageUrl,
                                                                 <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;imageIdentifier,
                                                                 <a href="../../../../../com/communote/server/model/config/ConfluenceConfiguration.html" title="class in com.communote.server.model.config">ConfluenceConfiguration</a>&nbsp;config)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#getRequestContext-java.net.URI-java.lang.String-C-">HttpExternalImageProvider</a></code></span></div>
<div class="block">Get request context to be used when downloading the given image. Implementations could use
 this method to provide authentication details. The default implementation returns null.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html#getRequestContext-java.net.URI-java.lang.String-C-">getRequestContext</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/communote/server/core/image/HttpExternalImageProvider.html" title="class in com.communote.server.core.image">HttpExternalImageProvider</a>&lt;<a href="../../../../../com/communote/server/model/config/ConfluenceConfiguration.html" title="class in com.communote.server.model.config">ConfluenceConfiguration</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>imageUrl</code> - the URL pointing to the image</dd>
<dd><code>imageIdentifier</code> - the ID of the image to get</dd>
<dd><code>config</code> - the configuration of the image provider, can be null</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the request context</dd>
</dl>
</li>
</ul>
<a name="getTimeToLive--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTimeToLive</h4>
<pre>public&nbsp;int&nbsp;getTimeToLive()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../com/communote/server/api/core/image/ImageProvider.html#getTimeToLive--">ImageProvider</a></code></span></div>
<div class="block">Get the number of seconds until a cached image should expire and thus be reloaded</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../com/communote/server/api/core/image/ImageProvider.html#getTimeToLive--">getTimeToLive</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/communote/server/api/core/image/ImageProvider.html" title="class in com.communote.server.api.core.image">ImageProvider</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>time to live in the cache</dd>
</dl>
</li>
</ul>
<a name="imageChanged-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>imageChanged</h4>
<pre>public&nbsp;void&nbsp;imageChanged(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;imageIdentifier)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../com/communote/server/core/image/type/HttpExternalUserImageProvider.html#imageChanged-java.lang.String-">HttpExternalUserImageProvider</a></code></span></div>
<div class="block">If imageIdentifier is not null the version string property is removed so that a new one is
 created the next time the image with the identifier is accessed. If imageIdentifier is null
 the provider is re-enabled if it was temporarily disabled.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../com/communote/server/core/image/type/HttpExternalUserImageProvider.html#imageChanged-java.lang.String-">imageChanged</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/communote/server/core/image/type/HttpExternalUserImageProvider.html" title="class in com.communote.server.core.image.type">HttpExternalUserImageProvider</a>&lt;<a href="../../../../../com/communote/server/model/config/ConfluenceConfiguration.html" title="class in com.communote.server.model.config">ConfluenceConfiguration</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>imageIdentifier</code> - the identifier of the changed image. Can be null in the case that all images have
            changed.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ConfluenceUserImageProvider.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/communote/plugins/confluence/image/ConfluenceUserImageProvider.html" target="_top">Frames</a></li>
<li><a href="ConfluenceUserImageProvider.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2016 <a href="https://communote.github.io/">Communote GmbH</a>. All rights reserved.</small></p>
</body>
</html>
